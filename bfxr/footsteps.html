<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">

    <title>FOOTSTEPPR</title>
    <meta name="description" content="Make sound effects for your games.">
    <meta name="author" content="increpare">

    <link rel="stylesheet" href="css/third_party/bootstrap.css">
    <link rel="stylesheet" href="css/third_party/bootstrap-slider.css">
    <link rel="stylesheet" href="css/custom.css">
<style>
    #logo-canvas {
        width: var(--right-col-width);
        height: var(--logo-canvas-height);
        border: var(--border-thickness) solid var(--col-shadowbrown);
        border-radius: 0;
        /*jockey one font via https://danmarshall.github.io/google-font-to-svg-path/*/
        background-image: url("data:image/svg+xml,%3Csvg width='490.102' height='70' viewBox='0 0 490.102 70' xmlns='http://www.w3.org/2000/svg'%3E%3Cg id='svgGroup' stroke-linecap='round' fill-rule='evenodd' font-size='9pt' stroke='%23000' stroke-width='0.0mm' fill='%23000' style='stroke:%23000;stroke-width:0.0mm;fill:%23a9674280'%3E%3Cpath d='M 312.4 70 L 276.1 70 L 276.1 0 L 312 0 L 312 12 L 289.8 12 L 289.8 28.7 L 309.6 28.7 L 309.6 40.3 L 289.8 40.3 L 289.8 58.4 L 312.4 58.4 L 312.4 70 Z M 418.3 70 L 418.3 0 L 444.9 0 A 22.277 22.277 0 0 1 454.654 6.557 A 27.331 27.331 0 0 1 455.65 7.75 Q 460.1 13.4 460.1 21.6 A 26.562 26.562 0 0 1 458.904 29.802 A 20.392 20.392 0 0 1 449.5 41.3 L 459.6 70 L 445.6 70 L 437.1 44.5 L 431.8 44.5 L 431.8 70 L 418.3 70 Z M 13.7 70 L 0 70 L 0 0 L 36.5 0 L 36.5 12 L 13.7 12 L 13.7 29.5 L 33.5 29.5 L 33.5 41.1 L 13.7 41.1 L 13.7 70 Z M 197.9 0 L 221.9 0 L 221.9 12 L 202.7 12 L 202.4 12.6 L 218.4 41.8 A 71.731 71.731 0 0 1 220.544 45.938 Q 223.3 51.75 223.3 55.2 A 23.943 23.943 0 0 1 222.646 60.985 A 15.042 15.042 0 0 1 216.6 70 L 190.1 70 L 190.1 58.4 L 210.8 58.4 L 211.1 57.8 L 193.1 25.5 A 47.813 47.813 0 0 1 191.215 21.768 Q 189.537 18.016 189.256 15.195 A 11.07 11.07 0 0 1 189.2 14.1 Q 189.2 3.815 197.709 0.083 A 18.5 18.5 0 0 1 197.9 0 Z M 157 70 L 157 12 L 141.9 12 L 141.9 0 L 185.7 0 L 185.7 12 L 170.6 12 L 170.6 70 L 157 70 Z M 241.6 70 L 241.6 12 L 226.5 12 L 226.5 0 L 270.3 0 L 270.3 12 L 255.2 12 L 255.2 70 L 241.6 70 Z M 333.6 70 L 320.1 70 L 320.1 0 L 347.2 0 Q 354 3 357.95 9.2 A 25.229 25.229 0 0 1 361.711 20.139 A 31.885 31.885 0 0 1 361.9 23.65 Q 361.9 31.9 357.8 38.9 Q 353.7 45.9 345.7 48.8 L 333.6 48.8 L 333.6 70 Z M 382.7 70 L 369.2 70 L 369.2 0 L 396.3 0 Q 403.1 3 407.05 9.2 A 25.229 25.229 0 0 1 410.811 20.139 A 31.885 31.885 0 0 1 411 23.65 Q 411 31.9 406.9 38.9 Q 402.8 45.9 394.8 48.8 L 382.7 48.8 L 382.7 70 Z M 52.8 0 L 73.4 0 Q 80.4 5.7 83.8 15.3 Q 87.2 24.9 87.2 35.05 Q 87.2 45.2 83.9 54.3 Q 80.6 63.4 73.4 70 L 52.8 70 Q 45.6 63.4 42.3 54.3 Q 39 45.2 39 35.05 Q 39 24.9 42.4 15.3 A 37.409 37.409 0 0 1 46.863 6.437 A 31.042 31.042 0 0 1 52.8 0 Z M 107 0 L 127.6 0 Q 134.6 5.7 138 15.3 Q 141.4 24.9 141.4 35.05 Q 141.4 45.2 138.1 54.3 Q 134.8 63.4 127.6 70 L 107 70 Q 99.8 63.4 96.5 54.3 Q 93.2 45.2 93.2 35.05 Q 93.2 24.9 96.6 15.3 A 37.409 37.409 0 0 1 101.063 6.437 A 31.042 31.042 0 0 1 107 0 Z M 59.5 58.4 L 66.7 58.4 A 13.206 13.206 0 0 0 68.189 56.231 Q 69.528 53.844 70.605 50.182 A 51.322 51.322 0 0 0 70.95 48.95 A 52.632 52.632 0 0 0 72.669 37.026 A 59.691 59.691 0 0 0 72.7 35.1 Q 72.7 27.8 71 21.35 A 42.968 42.968 0 0 0 69.98 18.003 Q 68.773 14.584 67.252 12.562 A 10.849 10.849 0 0 0 66.8 12 L 59.5 12 A 13.569 13.569 0 0 0 57.94 14.285 Q 56.639 16.632 55.587 20.163 A 50.417 50.417 0 0 0 55.25 21.35 A 50.892 50.892 0 0 0 53.572 32.169 A 58.829 58.829 0 0 0 53.5 35.1 A 54.583 54.583 0 0 0 54.644 46.415 A 49.414 49.414 0 0 0 55.25 48.95 Q 57 55.5 59.5 58.4 Z M 113.7 58.4 L 120.9 58.4 A 13.206 13.206 0 0 0 122.389 56.231 Q 123.728 53.844 124.805 50.182 A 51.322 51.322 0 0 0 125.15 48.95 A 52.632 52.632 0 0 0 126.869 37.026 A 59.691 59.691 0 0 0 126.9 35.1 Q 126.9 27.8 125.2 21.35 A 42.968 42.968 0 0 0 124.18 18.003 Q 122.973 14.584 121.452 12.562 A 10.849 10.849 0 0 0 121 12 L 113.7 12 A 13.569 13.569 0 0 0 112.14 14.285 Q 110.839 16.632 109.787 20.163 A 50.417 50.417 0 0 0 109.45 21.35 A 50.892 50.892 0 0 0 107.772 32.169 A 58.829 58.829 0 0 0 107.7 35.1 A 54.583 54.583 0 0 0 108.844 46.415 A 49.414 49.414 0 0 0 109.45 48.95 Q 111.2 55.5 113.7 58.4 Z M 343.1 12 L 333.6 12 L 333.6 37 L 342.5 37 A 14.51 14.51 0 0 0 347.515 28.595 A 22.399 22.399 0 0 0 348 23.8 Q 348 20.1 346.55 16.8 A 17.235 17.235 0 0 0 345.488 14.744 Q 344.883 13.754 344.203 13.01 A 7.997 7.997 0 0 0 343.1 12 Z M 392.2 12 L 382.7 12 L 382.7 37 L 391.6 37 A 14.51 14.51 0 0 0 396.615 28.595 A 22.399 22.399 0 0 0 397.1 23.8 Q 397.1 20.1 395.65 16.8 A 17.235 17.235 0 0 0 394.588 14.744 Q 393.983 13.754 393.303 13.01 A 7.997 7.997 0 0 0 392.2 12 Z M 441 12 L 431.8 12 L 431.8 33.3 L 440.4 33.3 Q 442.1 32.9 444.15 29.85 A 12.062 12.062 0 0 0 446.122 24.262 A 15.265 15.265 0 0 0 446.2 22.7 Q 446.2 18.6 444.45 15.5 Q 442.7 12.4 441 12 Z' vector-effect='non-scaling-stroke'/%3E%3C/g%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-size: 130px;
        background-position-x: 5px;
        background-position-y: 5px;
    }
a{
    color: var(--col-darkbrown);
    font-weight:bold;
}
</style>
<style>
    .container {
       /*align center*/
       display: flex;
       justify-content: center;
    }

    .listslider {
        margin-left: 3px;
        margin-bottom: 6px;
    }
    .sliderwidthset {
        width: calc(var(--right-col-width)-10px);
    }
</style>
</head>

<body>
    <br><br><br><br><br>

    <div class="container">
        <div class="col order-5 col-md-auto padding-0 rightlist">
            <canvas id="logo-canvas"></canvas>
            <br>
            <div class="card actionscol">
                <button type="button" class="btn btn-primary" id="button_play">Play</button>
                <div class="vol_slider listslider">
                    <div class="fieldtext">Volume</div>
                    <div>
                        <input id="vol" type="text" />
                    </div>
                </div>
                <td class="tableborder slidercell">
                    <div class="btn-group" role="group" aria-label="Basic checkbox toggle button group">
                      <input type="checkbox" class="btn-check " id="buttonselect_terrain_0" autocomplete="off" checked>
                      <label class="btn btn-outline-primary buttongroupcheck" id="buttonselect_terrain_0_LABEL" for="buttonselect_terrain_0" >
                        <img class="icon" src="images/terrain_snow.png">
                        <span class="tooltiptext">snow</span>
                      </label>
                      <input type="checkbox" class="btn-check " id="buttonselect_terrain_1" autocomplete="off">
                      <label class="btn btn-outline-primary buttongroupcheck" id="buttonselect_terrain_1_LABEL" for="buttonselect_terrain_1">
                        <img class="icon" src="images/terrain_grass.png">
                        <span class="tooltiptext">grass</span>
                      </label>
                      <input type="checkbox" class="btn-check " id="buttonselect_terrain_2" autocomplete="off">
                      <label class="btn btn-outline-primary buttongroupcheck" id="buttonselect_terrain_2_LABEL" for="buttonselect_terrain_2">
                        <img class="icon" src="images/terrain_dirt.png">
                        <span class="tooltiptext">dirt</span>
                      </label>
                      <input type="checkbox" class="btn-check " id="buttonselect_terrain_3" autocomplete="off">
                      <label class="btn btn-outline-primary buttongroupcheck" id="buttonselect_terrain_3_LABEL" for="buttonselect_terrain_3">
                        <img class="icon" src="images/terrain_gravel.png">
                        <span class="tooltiptext">gravel</span>
                      </label>
                      <input type="checkbox" class="btn-check " id="buttonselect_terrain_4" autocomplete="off">
                      <label class="btn btn-outline-primary buttongroupcheck" id="buttonselect_terrain_4_LABEL" for="buttonselect_terrain_4">
                        <img class="icon" src="images/terrain_wood.png">
                        <span class="tooltiptext">wood</span>
                      </label>
                    </div>
                <div class="heel_slider listslider">
                    <div class="fieldtext">Heel</div>
                    <div>
                        <input id="heel" type="text" />
                    </div>
                </div>
                <div class="roll_slider listslider">
                    <div class="fieldtext">Roll</div>
                    <div>
                        <input id="roll" type="text" />
                    </div>
                </div>
                <div class="ball_slider listslider">
                    <div class="fieldtext">Ball</div>
                    <div>
                        <input id="ball" type="text" />
                    </div>
                </div>
                <div class="actor_speed_slider listslider">
                    <div class="fieldtext">Swiftness</div>
                    <div>
                        <input id="actor_speed" type="text" />
                    </div>
                </div>
                
                <a type="button" class="btn btn-primary" id="save_wav" href="blah.wav">Save WAV</a>

                <div class="fieldtext sliderwidthset">original <a href="https://gist.github.com/increpare/dc5d54d7484211b259de9ef9fb0d140c">puredata module</a> by <a href="http://obiwannabe.co.uk/">obiwannabe</a> &lt;3 &lt;3</div>
            </div>
        </div>

    </div>
</body>

<script src="js/third_party/jquery-3.5.1.min.js"></script>
<script src="js/third_party/popper.min.js"></script>
<script src="js/third_party/bootstrap.js"></script>
<script src="js/third_party/bootstrap-slider.js"></script>
<script src="js/riffwave.js"></script>
<script src="js/globals.js"></script>
<script src="js/soundeffect.js"></script>
<script src="js/puredata.js"></script>
<script src="js/puredata_modules.js"></script>
<script src="js/puredata_parser.js"></script>
<script src="js/footsteps.js"></script>

<script>
    BUTTONLIST_ICONCOUNT={};
    function hook_up_checkbox(varname, index, iconcount) {
      var buttonselect = document.getElementById(`buttonselect_${varname}_${index}`);
      buttonselect.addEventListener('change', (event) => {
          onButtonSelectChange(varname, index, event.currentTarget.checked, iconcount);
      });
      if (index === 0) {
          BUTTONLIST_ICONCOUNT[varname] = iconcount;
      }
  }


    function onload() {
        hook_up_checkbox("terrain", 0, 5);
        hook_up_checkbox("terrain", 1, 5);
        hook_up_checkbox("terrain", 2, 5);
        hook_up_checkbox("terrain", 3, 5);
        hook_up_checkbox("terrain", 4, 5);
        updateCheckbox("terrain",step_terrain);
        var slider_vol = new Slider("#vol", {
        id: "vol",
        min: 0,
        max: 2,
        range: false,
        step: 0.01,
        value: 1.0,
        ticks: [0, 0.2, 0.4, 0.6, 0.8, 1.0, 1.2, 1.4, 1.6, 1.8, 2.0]
      });      
      slider_vol.sliderElem.className += " singleselect slidernarrow";
      slider_vol.on('slideStop',function(sliderValue){
        step_vol = sliderValue;
        doPlay();
      });

      var slider_heel = new Slider("#heel", {
        id: "heel",
        min: 0,
        max: 1,
        range: false,
        step: 0.01,
        value: 0.5,
        ticks: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
      });
      slider_heel.sliderElem.className += " singleselect slidernarrow";
      slider_heel.on('slideStop',function(sliderValue){
        step_heel = sliderValue;
        doPlay();
      });
      
      var slider_roll = new Slider("#roll", {
        id: "roll",
        min: 0,
        max: 1,
        range: false,
        step: 0.01,
        value: 0.5,
        ticks: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
      });
      slider_roll.sliderElem.className += " singleselect slidernarrow";
      slider_roll.on('slideStop',function(sliderValue){
        step_roll = sliderValue;
        doPlay();
      });

      var slider_ball = new Slider("#ball", {
        id: "ball",
        min: 0,
        max: 1, 
        range: false,
        step: 0.01,
        value: 0.5,
        ticks: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
      });
      slider_ball.sliderElem.className += " singleselect slidernarrow";
      slider_ball.on('slideStop',function(sliderValue){
        step_ball = sliderValue;
        doPlay();
      });

      var slider_actor_speed = new Slider("#actor_speed", {
        id: "actor_speed",
        min: 0,
        max: 1, 
        range: false,
        step: 0.01,
        value: 0.5,
        ticks: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
      });   
      slider_actor_speed.sliderElem.className += " singleselect slidernarrow";
      slider_actor_speed.on('slideStop',function(sliderValue){
        step_speed = sliderValue;
        doPlay();
      });
      doPlay();
    }


    addEventListener("load",onload);

  function onButtonSelectChange(varname, index, checked, iconcount) {
      if (checked === false) {
          checked = true;
      }
      switch(varname){
        case "terrain":
          step_terrain=index;
          break;
      }
      doPlay();
      updateCheckbox(varname,index);
  }

 function updateCheckbox(key,index){
  var iconcount = BUTTONLIST_ICONCOUNT[key];

  for (var i = 0; i < iconcount; i++) {
      var checkbox = document.getElementById("buttonselect_" + key + "_" + i);
      checkbox.checked = i === index;
  }
 }


    //params are heel row ball actorspeed

</script>
</html>